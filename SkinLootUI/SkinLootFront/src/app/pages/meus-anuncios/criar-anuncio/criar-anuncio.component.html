<div class="criar-anuncio-container">
  <!-- Background Decorativo -->
  <div class="background-shapes">
    <div class="shape shape-1"></div>
    <div class="shape shape-2"></div>
    <div class="shape shape-3"></div>
    <div class="glow-effect"></div>
  </div>

  <!-- Header Section -->
  <div class="header-section">
    <div class="header-content">
      <div class="title-section">
        <div class="accent-line"></div>
        <h1 class="main-title">
          Anuncie você também suas próprias skins
        </h1>
      </div>
      <div class="subtitle-section">
        <h2 class="subtitle">
          Crie seu anúncio e alcance milhares de jogadores
        </h2>
        <div class="accent-line-vertical"></div>
      </div>
    </div>
  </div>

  <!-- Form Section -->
  <div class="form-section">
    <div class="form-container">
      <div class="form-header">
        <h3 class="form-title">Criar Novo Anúncio</h3>
        <p class="form-subtitle">Preencha as informações da sua skin</p>
      </div>

      <form [formGroup]="anuncioForm" (ngSubmit)="criarAnuncio()" class="anuncio-form">
        <!-- Item ID Info -->
        <div class="item-info" *ngIf="itemId">
          <div class="info-badge">
            <mat-icon>inventory_2</mat-icon>
            <span>Item ID: {{ itemId }}</span>
          </div>
        </div>

        <!-- Form Fields -->
        <div class="form-grid">
          <mat-form-field appearance="outline" class="form-field full-width">
            <mat-label>Título do Anúncio</mat-label>
            <input matInput 
                   formControlName="titulo" 
                   placeholder="Ex: AK-47 Redline Field-Tested"
                   required>
            <mat-icon matSuffix>title</mat-icon>
            <mat-error *ngIf="anuncioForm.get('titulo')?.hasError('required')">
              Título é obrigatório
            </mat-error>
            <mat-error *ngIf="anuncioForm.get('titulo')?.hasError('minlength')">
              Título deve ter pelo menos 3 caracteres
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="form-field full-width">
            <mat-label>Descrição</mat-label>
            <textarea matInput 
                      formControlName="descricao" 
                      placeholder="Descreva o estado da skin, detalhes importantes..."
                      rows="4"
                      required></textarea>
            <mat-icon matSuffix>description</mat-icon>
            <mat-error *ngIf="anuncioForm.get('descricao')?.hasError('required')">
              Descrição é obrigatória
            </mat-error>
          </mat-form-field>

          <div class="form-row">
            <mat-form-field appearance="outline" class="form-field">
              <mat-label>Preço (R$)</mat-label>
              <input matInput 
                     type="number" 
                     formControlName="preco" 
                     placeholder="0.00"
                     min="0.01"
                     step="0.01"
                     required>
              <span matPrefix>R$ </span>
              <mat-icon matSuffix>attach_money</mat-icon>
              <mat-error *ngIf="anuncioForm.get('preco')?.hasError('required')">
                Preço é obrigatório
              </mat-error>
              <mat-error *ngIf="anuncioForm.get('preco')?.hasError('min')">
                Preço deve ser maior que R$ 0,01
              </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline" class="form-field">
              <mat-label>Status</mat-label>
              <mat-select formControlName="status">
                <mat-option value="ATIVO">
                  <div class="status-option">
                    <div class="status-dot active"></div>
                    Ativo
                  </div>
                </mat-option>
                <mat-option value="INATIVO">
                  <div class="status-option">
                    <div class="status-dot inactive"></div>
                    Inativo
                  </div>
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>

        <!-- Form Actions -->
        <div class="form-actions">
          <button type="button" 
                  mat-button 
                  class="cancel-btn"
                  (click)="cancelar()">
            <mat-icon>close</mat-icon>
            Cancelar
          </button>
          
          <button type="submit" 
                  mat-raised-button 
                  class="submit-btn"
                  [disabled]="anuncioForm.invalid || loading">
            <mat-icon *ngIf="!loading">add_circle</mat-icon>
            <mat-icon *ngIf="loading" class="loading-icon">refresh</mat-icon>
            {{ loading ? 'Criando...' : 'Criar Anúncio' }}
          </button>
        </div>

        <!-- Form Validation Summary -->
        <div class="validation-summary" *ngIf="anuncioForm.invalid && anuncioForm.touched">
          <mat-icon>warning</mat-icon>
          <span>Por favor, corrija os erros acima antes de continuar</span>
        </div>
      </form>
    </div>
  </div>
</div>
