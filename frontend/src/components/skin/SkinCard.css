/* ==========================================================
   SkinCard.css
   Caminho: frontend/src/components/skin/SkinCard.css
   ----------------------------------------------------------
   Estilos do componente <SkinCard /> — anúncios de skin.
   Dark por padrão + Light automático/forçado via data-theme.
========================================================== */

/* ---------- Tokens locais (derivados do :root) ---------- */
.card {
  --card-bg: linear-gradient(180deg, var(--panel), color-mix(in oklab, var(--panel) 70%, var(--surface)));
  --card-border: var(--border);
  --card-media-bg: var(--surface);
  --card-title: var(--text);
  --card-muted: var(--muted);
  --card-shadow: var(--shadow);
  --like-bg: color-mix(in oklab, var(--panel) 75%, transparent);
  --like-border: var(--border-strong);
  --like-fg: color-mix(in oklab, var(--text) 75%, var(--muted));
}

/* Tema claro automático */
@media (prefers-color-scheme: light) {
  :root:not([data-theme="dark"]) .card {
    --card-bg: linear-gradient(180deg, #FFFFFF, #F7FAFC);
    --card-border: #CBD5E1;
    --card-media-bg: #F2F6FA;
    --card-title: #0B0D10;
    --card-muted: #5A6573;
    --card-shadow: 0 12px 28px rgba(15,23,42,.10);
    --like-bg: #EEF2F6;
    --like-border: #CBD5E1;
    --like-fg: #334155;
  }
}
/* Forçar manualmente */
:root[data-theme="light"] .card {
  --card-bg: linear-gradient(180deg, #FFFFFF, #F7FAFC);
  --card-border: #CBD5E1;
  --card-media-bg: #F2F6FA;
  --card-title: #0B0D10;
  --card-muted: #5A6573;
  --card-shadow: 0 12px 28px rgba(15,23,42,.10);
  --like-bg: #EEF2F6;
  --like-border: #CBD5E1;
  --like-fg: #334155;
}

/* ---------- Estrutura principal ---------- */
.card {
  display: flex;
  flex-direction: column;
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: var(--radius);
  overflow: hidden;
  position: relative;
  box-shadow: var(--card-shadow);
  transition: transform .25s, box-shadow .25s, border-color .2s;
}
.card:hover { transform: translateY(-3px); box-shadow: 0 16px 40px rgba(0,0,0,.5); }

/* ---------- Área da imagem ---------- */
.card__media {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--card-media-bg);
  aspect-ratio: var(--media-ratio);
  min-height: var(--media-min-h);
  padding: var(--media-pad-top) var(--media-pad) var(--media-pad);
  border-bottom: 1px solid var(--card-border);
}
.card__media img {
  display: block;
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  image-rendering: -webkit-optimize-contrast;
  filter: saturate(1.05) drop-shadow(0 14px 30px rgba(0,0,0,.55));
}
.card__media::after {
  content: "";
  position: absolute; inset: 0; pointer-events: none; z-index: 1;
  background:
    radial-gradient(420px 180px at 85% 30%, rgba(0,200,150,.10), transparent 60%),
    radial-gradient(400px 160px at 20% 15%, rgba(57,255,20,.08), transparent 55%);
}

/* ---------- Badge de plano ---------- */
.badge {
  position: absolute; top: 14px; left: 16px; z-index: 3;
  padding: 6px 12px; border-radius: 999px; font-weight: 800; font-size: 12px;
  color: #0B0D10; white-space: nowrap; box-shadow: 0 0 24px var(--ring);
  background: var(--primary);
}

/* ---------- Botão de favorito ---------- */
.like {
  position: absolute; top: 12px; right: 12px; z-index: 3;
  padding: 8px; display: grid; place-items: center;
  background: var(--like-bg);
  border: 1px solid var(--like-border);
  border-radius: 999px; color: var(--like-fg); cursor: pointer;
  transition: box-shadow .2s, background .2s, color .2s, border-color .2s;
}
.like:is(:hover,:focus-visible){ outline: none; box-shadow: 0 0 0 3px color-mix(in oklab, var(--ring) 55%, transparent); }
.like.is-liked {
  color: var(--primary);
  background: color-mix(in oklab, var(--primary) 10%, transparent);
  box-shadow: 0 0 0 2px rgba(57,255,20,.15) inset;
}

/* ---------- Corpo do card ---------- */
.card__body {
  display: flex; flex-direction: column; gap: 10px; padding: 14px;
  background: transparent; /* mantém o gradiente do card, ok no light */
}
.card h3 { margin: 0; font-size: 18px; color: var(--card-title); }
.meta { display: flex; justify-content: space-between; align-items: center; color: var(--card-muted); }
.price { color: #0B0D10; font-weight: 800; letter-spacing: .3px; }
@media (prefers-color-scheme: dark){ .price { color: #E9FFF1; } }
:root[data-theme="dark"] .price { color: #E9FFF1; }

/* ---------- Info vendedor ---------- */
.seller { display: flex; flex-direction: column; align-items: flex-start; gap: 10px; margin-top: auto; }
.seller > span { width: 100%; margin-bottom: 4px; font-size: 14px; color: color-mix(in oklab, var(--card-muted) 80%, var(--text)); text-align: left; }

/* ---------- CTA ---------- */
.card .cta:not(.cta--bottom){ display: flex; justify-content: flex-start; gap: 8px; width: 100%; }
.card .cta:not(.cta--bottom) .btn{ flex: 1 1 50%; max-width: 50%; height: 46px; justify-content: center; border-radius: 10px; }
.card .cta--bottom{ margin-top: 6px; width: 100%; }
.card .cta--bottom .btn.full{ width: 100%!important; height: 48px; font-weight: 700; border-radius: 10px; justify-content: center; }

/* ---------- Efeitos neon ---------- */
.card{ --neon1: var(--primary); --neon2: var(--secondary); }
.card:hover{
  border-color: color-mix(in oklab, var(--neon1) 16%, var(--card-border));
  box-shadow:
    0 16px 40px rgba(0,0,0,.6),
    0 0 0 2px color-mix(in oklab, var(--neon1) 70%, transparent),
    0 0 24px color-mix(in oklab, var(--neon1) 35%, transparent),
    0 0 64px color-mix(in oklab, var(--neon2) 26%, transparent);
}
.card:hover .card__media::after { opacity: .9; transition: opacity .2s; }

/* ---------- Variações de plano ---------- */
.card--intermediario:hover,
.card--intermediario:focus-within{
  box-shadow:
    0 16px 40px rgba(0,0,0,.6),
    0 0 0 2px color-mix(in oklab, var(--secondary) 75%, transparent),
    0 0 24px color-mix(in oklab, var(--secondary) 38%, transparent),
    0 0 64px color-mix(in oklab, var(--primary) 24%, transparent);
}
.card--plus:hover,
.card--plus:focus-within{
  box-shadow:
    0 16px 40px rgba(0,0,0,.6),
    0 0 0 2px color-mix(in oklab, var(--primary) 85%, transparent),
    0 0 26px color-mix(in oklab, var(--primary) 42%, transparent),
    0 0 72px color-mix(in oklab, var(--secondary) 30%, transparent);
}

/* ---------- Acessibilidade ---------- */
.card :where(a,button).btn:focus-visible,
.card .like:focus-visible{
  outline: none;
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--ring) 55%, transparent);
  transition: box-shadow .2s;
}
